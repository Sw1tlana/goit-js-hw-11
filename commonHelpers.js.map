{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.getElementById(\"searchForm\");\nconst galleryImages = document.querySelector(\"ul.gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst BASE_API = \"https://pixabay.com/api\";\nconst API_Key = \"41802498-7aef04e1b4b4791f33c618bc1\";\n\nsearchForm.addEventListener(\"submit\", searchFormSubmit);\n\nfunction searchFormSubmit (evt) {\n    evt.preventDefault();\n    const form = evt.currentTarget;\n    const query = form.elements.searchQuery.value.trim();\n\n    const url = `${BASE_API}?key=${API_Key}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    console.log(query);\n    fetchImages(url)\n    .then((data) => {\n        if (!data.total) {\n        return iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: '#ffffff',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n            maxWidth: '432px',\n            close: false\n        });   \n        }\n        renderImages(data.hits);  \n    })      \n   .catch(onFetchError)\n   .finally(() => {\n   loader.style.display = \"none\"\n   form.reset()});\n}\n\nfunction fetchImages(url) {\n    loader.style.display = \"block\";\n  return fetch(url)\n       .then((response) => {\n        loader.style.display = \"block\";\n           if (!response.ok) {\n               throw new Error(response.status);\n           }\n           return response.json();\n       })\n    }    \n     \nfunction renderImages(images) {\ngalleryImages.innerHTML = \"\";\n\nconst markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `\n <li class=\"gallery-item\">\n <a class=\"link-gallery\" href=\"${largeImageURL}\">\n <img class=\"gallery-images\" src=\"${webformatURL}\" alt=\"${tags}\">\n </a>\n <div class=\"photo-info\">\n     <p class=\"info-number\"><strong>Like</strong> ${likes}</p>\n     <p class=\"info-number\"><strong>Views</strong> ${views}</p>\n     <p class=\"info-number\"><strong>Comments</strong> ${comments}</p>\n     <p class=\"info-number\"><strong>Downloads</strong> ${downloads}</p> \n </div>\n </li>\n`\n}).join(\"\");\n \ngalleryImages.insertAdjacentHTML(\"beforeend\", markup);\n\nconst lightbox = new SimpleLightbox(document.querySelectorAll('ul.gallery a'));\n\nlightbox.refresh();\n\n}\n\n\nfunction onFetchError(error) {\n    console.log(error);\n}"],"names":["searchForm","galleryImages","loader","BASE_API","API_Key","searchFormSubmit","evt","form","query","url","fetchImages","data","iziToast","renderImages","onFetchError","response","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error"],"mappings":"6vBAOA,MAAMA,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAgB,SAAS,cAAc,YAAY,EACnDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,0BACXC,EAAU,qCAEhBJ,EAAW,iBAAiB,SAAUK,CAAgB,EAEtD,SAASA,EAAkBC,EAAK,CAC5BA,EAAI,eAAc,EAClB,MAAMC,EAAOD,EAAI,cACXE,EAAQD,EAAK,SAAS,YAAY,MAAM,OAExCE,EAAM,GAAGN,SAAgBC,OAAaI,4DAE5C,QAAQ,IAAIA,CAAK,EACjBE,EAAYD,CAAG,EACd,KAAME,GAAS,CACZ,GAAI,CAACA,EAAK,MACV,OAAOC,EAAS,MAAM,CAClB,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,SAAU,QACV,MAAO,EACnB,CAAS,EAEDC,EAAaF,EAAK,IAAI,CAC9B,CAAK,EACD,MAAMG,CAAY,EAClB,QAAQ,IAAM,CACfZ,EAAO,MAAM,QAAU,OACvBK,EAAK,MAAO,CAAA,CAAC,CAChB,CAEA,SAASG,EAAYD,EAAK,CACtB,OAAAP,EAAO,MAAM,QAAU,QAClB,MAAMO,CAAG,EACV,KAAMM,GAAa,CAEhB,GADHb,EAAO,MAAM,QAAU,QAChB,CAACa,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC3B,CAAQ,CACH,CAEL,SAASF,EAAaG,EAAQ,CAC9Bf,EAAc,UAAY,GAE1B,MAAMgB,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACtF;AAAA;AAAA,iCAEsBL;AAAA,oCACGD,WAAsBE;AAAA;AAAA;AAAA,oDAGNC;AAAA,qDACCC;AAAA,wDACGC;AAAA,yDACCC;AAAA;AAAA;AAAA,CAIxD,EAAE,KAAK,EAAE,EAEVvB,EAAc,mBAAmB,YAAagB,CAAM,EAEnC,IAAIQ,EAAe,SAAS,iBAAiB,cAAc,CAAC,EAEpE,QAAO,CAEhB,CAGA,SAASX,EAAaY,EAAO,CACzB,QAAQ,IAAIA,CAAK,CACrB"}