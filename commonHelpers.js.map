{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.getElementById(\"searchForm\");\nconst galleryImages = document.querySelector(\"ul.gallery\");\nconst loader = document.querySelector(\".loader\");\n\nsearchForm.addEventListener(\"submit\", searchFormSubmit);\n\nloader.style.display = \"none\";\n\nfunction searchFormSubmit (evt) {\n    evt.preventDefault();\n    galleryImages.innerHTML = \"\";\n    const form = evt.currentTarget;\n    const query = form.elements.searchQuery.value.trim();\n    \n    const url = `https://pixabay.com/api/?key=41802498-7aef04e1b4b4791f33c618bc1&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    loader.style.display = \"block\";\n\nfetchImages(url)\n    .then((data) => {\n        if (!data.total) {\n            iziToast.show({\n                message: 'âŒSorry, there are no images matching your search query.Please try again!',\n                messageColor: '#ffffff',\n                backgroundColor: '#EF4040',\n                position: 'topRight',\n                maxWidth: '420px',\n                close: false,\n            });\n                return galleryImages.innerHTML = \"\";\n            }\n\n                renderImages(data.hits);\n            })\n            .catch(onFetchError)\n            .finally(() => {\n                loader.style.display = \"none\";\n                form.reset();\n            });\n\n}\n\nfunction fetchImages(url) {\n  return fetch(url)\n       .then((response) => {\n           if (!response.ok) {\n               throw new Error(response.status);\n           }\n           return response.json();\n       })\n    }  \n   \nfunction renderImages(images) { \nconst markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `\n <li class=\"gallery-item\">\n <a class=\"link-gallery\" href=\"${largeImageURL}\">\n <img class=\"gallery-images\" src=\"${webformatURL}\" alt=\"${tags}\">\n </a>\n <div class=\"photo-info\">\n     <p class=\"info-number\"><strong>Like</strong> ${likes}</p>\n     <p class=\"info-number\"><strong>Views</strong> ${views}</p>\n     <p class=\"info-number\"><strong>Comments</strong> ${comments}</p>\n     <p class=\"info-number\"><strong>Downloads</strong> ${downloads}</p> \n </div>\n </li>\n`\n}).join(\"\");\n\ngalleryImages.insertAdjacentHTML(\"beforeend\", markup);\n    \nconst lightbox = new SimpleLightbox(document.querySelectorAll('.gallery a'));\n\n    lightbox.refresh();\n}\n\nfunction onFetchError(error) {\n    console.log(error);\n    loader.style.display = \"none\";\n}"],"names":["searchForm","galleryImages","loader","searchFormSubmit","evt","form","url","fetchImages","data","iziToast","renderImages","onFetchError","response","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error"],"mappings":"6vBAMA,MAAMA,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAgB,SAAS,cAAc,YAAY,EACnDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAW,iBAAiB,SAAUG,CAAgB,EAEtDD,EAAO,MAAM,QAAU,OAEvB,SAASC,EAAkBC,EAAK,CAC5BA,EAAI,eAAc,EAClBH,EAAc,UAAY,GAC1B,MAAMI,EAAOD,EAAI,cAGXE,EAAM,qEAFED,EAAK,SAAS,YAAY,MAAM,MAEwC,2DACtFH,EAAO,MAAM,QAAU,QAE3BK,EAAYD,CAAG,EACV,KAAME,GAAS,CACZ,GAAI,CAACA,EAAK,MACN,OAAAC,EAAS,KAAK,CACV,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,SAAU,QACV,MAAO,EACvB,CAAa,EACUR,EAAc,UAAY,GAGjCS,EAAaF,EAAK,IAAI,CACtC,CAAa,EACA,MAAMG,CAAY,EAClB,QAAQ,IAAM,CACXT,EAAO,MAAM,QAAU,OACvBG,EAAK,MAAK,CAC1B,CAAa,CAEb,CAEA,SAASE,EAAYD,EAAK,CACxB,OAAO,MAAMA,CAAG,EACV,KAAMM,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC3B,CAAQ,CACH,CAEL,SAASF,EAAaG,EAAQ,CAC9B,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACtF;AAAA;AAAA,iCAEsBL,CAAa;AAAA,oCACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,oDAGVC,CAAK;AAAA,qDACJC,CAAK;AAAA,wDACFC,CAAQ;AAAA,yDACPC,CAAS;AAAA;AAAA;AAAA,CAIjE,EAAE,KAAK,EAAE,EAEVpB,EAAc,mBAAmB,YAAaa,CAAM,EAEnC,IAAIQ,EAAe,SAAS,iBAAiB,YAAY,CAAC,EAE9D,QAAO,CACpB,CAEA,SAASX,EAAaY,EAAO,CACzB,QAAQ,IAAIA,CAAK,EACjBrB,EAAO,MAAM,QAAU,MAC3B"}